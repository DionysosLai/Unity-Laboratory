# day23 日常学习

## 概要

---

## 知识点

### 1. shader

​		float用于位置和纹理坐标，half用于其他所有内容。fixed通常可以等价于half。

### 2. WeakReference

```c
1.强引用
我们实例化一个对象，直接引用了这个对象就是强引用。在这个对象被强引用的时，GC无法回收这个对象。
只有当该对象所有的强引用都失去的时候，GC才会回收该对象。

2.弱引用
弱引用可以让您保持对对象的引用，同时允许GC在必要时释放对象，回收内存。
一般使用场景：对象过大，并且不经常访问。这样我们就可以创建一个弱引用，当不常用该对象的时候，GC可以回收该对象，当需要引用对象，可以先判断弱引用的对象是不是存在，如果存在，就直接使用，如果弱引用的对象已经被回收，那就重新创建一个对象来使用。
```

c# 例子

```c#
Person person = new Person() { Id = 1, Name = "demo" };
//实例化弱引用传递一个对象
WeakReference wk = new WeakReference(person);
Person p1;
if (wk.IsAlive) //如果person没有被回收
{
	p1 = wk.Target as Person; //直接引用原对象
}
else //如果person已经被回收了 重新创建一个对象
{
	p1 = new Person() { Id = 1, Name = "demo" };
}
```

总结：

```
弱引用运行创建和使用对象，但是垃圾回收器运行时，就会回收对象释放内存。但始终存在这样的风险：垃圾回收器在重新建立强引用之前先处理该对象。但是在特定的情况下使用弱引用是很合理的。
使用 WeakReference类创建弱引用。因为对象可能在任意时刻被回收，所以在引用前必须确认它存在。
```

